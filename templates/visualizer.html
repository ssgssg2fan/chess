<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Chess Visualizer</title>

<!-- chess.js 라이브러리 -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.13.4/chess.min.js"></script>

<style>
body {
  background:#e5e5e5;
  font-family: monospace;
}

#container {
  display:flex;
  gap:20px;
}

#board {
  display:grid;
  grid-template-columns: repeat(8, 60px);
  border:2px solid #000;
}

.cell {
  width:60px;
  height:60px;
  text-align:center;
  line-height:60px;
  font-size:36px;
}

.white { background:#f0f0f0; color:black; }
.green { background:#76a86b; color:black; }

#panel {
  width:260px;
}

#evalbar {
  width:20px;
  height:300px;
  background:#aaa;
  position:relative;
}

#evalfill {
  position:absolute;
  bottom:0;
  width:100%;
}
</style>

<link rel="stylesheet" href="/static/style.css">
</head>

<body>
<h2>Chess Visualizer</h2>

<div id="container">
  <div id="board"></div>

  <div id="panel">
    <div id="evalbar"><div id="evalfill"></div></div>
    <div id="moves"></div>

    <button id="prev">◀ Prev</button>
    <button id="next">Next ▶</button>
    <br>
    <button onclick="location.href='/'">Back</button>
  </div>
</div>

<!-- moves 데이터만 HTML에서 넘긴다 -->
<script>
  window.MOVES = {{ moves|tojson }};
</script>

<script src="/static/visualizer.js"></script>
</body>
</html>
